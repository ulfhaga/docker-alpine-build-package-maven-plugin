# Contributor: Bennett Goble <nivardus@gmail.com>
# Contributor: Mike Milner <milner@blissisland.ca>
# Maintainer: Bennett Goble <nivardus@gmail.com>
pkgname=librdkafka
pkgver=1.4.2
pkgrel=0
pkgdesc="The Apache Kafka C/C++ library"
url="https://github.com/edenhill/librdkafka"
arch="all"
license="BSD-2-Clause"
makedepends="bash openssl-dev cyrus-sasl-dev lz4-dev zlib-dev zstd-dev rapidjson-dev"
subpackages="$pkgname-static $pkgname-dev"
source="$pkgname-$pkgver.tar.gz::https://github.com/edenhill/librdkafka/archive/v$pkgver.tar.gz"

build() {
	./configure --prefix=/usr
	make
}

check() {
	make check
}

package() {
	make DESTDIR="$pkgdir" install
}

sha512sums="3d8e496466c103829f5fe11f1a6e68d1299c847b637c6fad55adbe1ad28bd5c463508f3f3fb8b3316b15a104f74e551cd5e520950d76c0e4f8c876083397ced5  librdkafka-1.4.2.tar.gz"
